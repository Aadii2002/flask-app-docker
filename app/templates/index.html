{% extends 'layout.html' %}

{% block content %}
    <h1>Todo List</h1>

    <form action="{{ url_for('add_todo') }}" method="post">
        <input type="text" name="title" placeholder="Add a new task..." required>
        <button type="submit">Add</button>
    </form>
    {% if todos%}
    <ul>
        {% for todo in todos %}
            <li>
                <div class="todo-content {% if todo.complete %}complete{% endif %}">
                    {{ todo.title }}
                </div>
                <div class="todo-actions">
                    <form action="{{ url_for('delete_todo', id=todo.id) }}" method="post" style="display: inline;">
                           <button type="submit" class="complete-btn" onclick="return confirm('Mark as complete and delete?')">
                              Complete
                      </button>
                   </form>
                </div>
            </li>
        {% else %}
            <li>No tasks yet.</li>
        {% endfor %}
    </ul>
    {% else %}
        <p><strong>No connection to Database</strong></p>
    {% endif%}
{% endblock %}
